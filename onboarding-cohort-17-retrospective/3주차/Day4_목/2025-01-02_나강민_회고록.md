# Daily Retrospective  
**작성자**: [나강민]  
**작성일시**: [2025-01-02]  

## 1. 오늘 배운 내용 (필수)  


### 1. 이카운트 프레임워크 개념

#### 요구사항 숙제
공지사항 및 숙제 게시판을 만들 때 공통화와 모듈화에 대해 개발 비용을 낮추기 위한 나만의 생각 도출

공지사항 게시판과, 숙제 게시판은 비슷한 양식으로 개발이 이루어진다. 그렇기 때문에 매번 공지사항과 숙제 게시판을 계속 따로 개발을 진행한다면 불필요한 리소스가 많고 개발에 대해 시간과 비용이 많이 들어가고 있는 상황입니다.

**공지사항은 아래의 요구사항을 따릅니다.** 
1. 제목, 내용, 공지기간 입력 및 조회
2. 공지기간 반드시 입력
3. 제목은 10글자 이내

**숙제 게시판은 아래의 요구사항을 따릅니다.**
1. 제목, 내용, 과목 입력 및 조회
2. 제목을 반드시 입력
3. 제목을 입력하지 않았을 때 과목명을 제목으로 자동 입력
4. 제목은 20자 이내

브라우저, 서버, DB에서 딱 하나의 개발 소스를 이용해서 모든 게시판을 만드려면 어떻게 해야할까? 라는 질문에 저는 아래와 같이 생각했습니다.
일단 기존의 개발을 먼저 설명을 해보자면, 공지사항 게시판 UI, 서버, DB 테이블을 작성하고, 숙제 게시판도 마찬가지였을 겁니다. 그렇게 되면 테이블은 게시판 마다 생기게 될 것이며, UI를 담당하는 코드와 서버의 코드도 각 게시판 마다 비슷한 모듈들이 많아질거라고 생각이 들었습니다.

만약 저였다면 공지사항과 숙제게시판의 차이점을 분석하고 공통부분을 만들어서 클라이언트에서 게시판을 구성할 수 있도록 만들면 되겠다 라는 생각이 들었습니다.
예를들어 권한을 가지고 있는 클라이언트가 어떠한 목적을 지닌 게시판을 직접 만들 수 있는 시스템을 구축합니다.
이렇게 된다면, DB는 이전과 달리 게시판을 만들 수 있는 시스템을 구축하기 필요한 항목들을 모두 담아 처리합니다.  

### 공지사항 게시판과 숙제 게시판의 차이점 분석 

| **항목**         | **공지사항 게시판**                          | **숙제 게시판**                                |
|-------------------|---------------------------------------------|-----------------------------------------------|
| **추가 필드**     | 공지 기간                                   | 과목                                          |
| **제목 조건**     | 10글자 이내                                 | 20글자 이내                                   |
| **필수 입력**     | 공지 기간 반드시 입력                        | 제목이 없을 경우 과목명을 제목으로 자동 설정  |
| **사용 목적**     | 특정 기간 동안 중요한 공지를 전달.            | 숙제를 공지하고, 과제 정보를 전달.            |
| **데이터 로직**   | 공지 기간을 기반으로 활성/비활성 상태를 확인. | 과목 필드 존재 여부로 추가적인 검증 및 처리 필요. |


클라이언트는 사용자가 직접 게시판을 구성하고 관리할 수 있는 기능을 제공합니다. 사용자는 게시판의 이름, 유형, 필요한 추가 필드를 입력하여 자신만의 게시판을 생성할 수 있으며, 이러한 설정은 동적 UI로 지원됩니다. 예를 들어 "13기 숙제 게시판"을 생성할 때, 과목 필드와 제목 검증 규칙을 설정하는 등 사용자가 특정 게시판의 요구사항을 정의할 수 있습니다. 클라이언트는 서버로부터 제공받은 게시판 설정 데이터를 기반으로 UI를 동적으로 생성하며, 이를 통해 모든 게시판의 공통 필드(예: 제목, 내용)는 재사용하고, 추가 필드는 설정에 따라 유연하게 렌더링됩니다. 사용자는 생성된 게시판에서 게시글을 작성하거나 수정할 수 있으며, 게시판 목록에서 원하는 게시판을 선택해 해당 게시판에 속한 게시글만 확인할 수 있습니다.

서버는 클라이언트로부터 전달받은 데이터를 기반으로 게시판 생성, 관리, 게시글 CRUD를 처리합니다. 게시판 생성 요청이 들어오면 설정 데이터를 포함하여 게시판 정보를 데이터베이스에 저장하고, 고유한 board_id를 생성하여 클라이언트에 반환합니다. 게시판별 설정은 유효성 검증 규칙이나 입력 필드를 포함하며, 새로운 게시판 유형이 추가되어도 서버 코드를 수정할 필요 없이 설정 데이터만 업데이트하면 됩니다. 게시글 작성 요청에서는 board_id를 사용해 게시판 설정을 확인하고, 설정된 규칙에 따라 입력 데이터를 검증한 뒤 저장합니다. 예를 들어 숙제 게시판에서 제목이 없을 경우 과목명을 자동으로 제목으로 설정합니다. 게시글 목록 조회 시에는 board_id를 기준으로 필터링하여 해당 게시판의 게시글만 반환합니다.

데이터베이스는 게시판과 게시글을 효율적으로 관리하기 위해 두 개의 테이블을 사용합니다. 첫 번째 테이블은 게시판의 메타정보를 저장하며, 게시판 유형, 이름, 설명, 그리고 동적 설정 데이터를 포함합니다. 설정 데이터는 JSON 형식으로 저장되어 각 게시판의 고유 필드와 규칙을 유연하게 정의할 수 있습니다. 두 번째 테이블은 게시글 데이터를 저장하며, 각 게시글은 특정 게시판에 속하기 때문에 board_id를 외래키로 사용해 게시판과 연관됩니다. 공통 필드는 정규화된 컬럼으로 저장되며, 게시판별 추가 필드는 JSON 컬럼에 저장되어 스키마 변경 없이 새로운 데이터 요구사항을 처리할 수 있습니다. 이러한 설계는 게시판의 수가 늘어나거나 새로운 요구사항이 추가되어도 데이터베이스 스키마를 수정하지 않고 확장할 수 있도록 지원합니다.


| **항목**          | **이전 설계**                                                                                         | **새로운 설계**                                                                                     |
|--------------------|-----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|
| **브라우저**      | - 게시판별로 고유한 UI 컴포넌트를 각각 개발.<br>- 새로운 게시판마다 추가적인 프론트엔드 작업 필요.    | - 공통 컴포넌트(입력 필드, 게시글 목록 등)를 재사용.<br>- 서버에서 제공받은 설정 정보(`settings`)를 기반으로 동적 렌더링. |
| **웹 서버**       | - 게시판별로 CRUD 로직을 각각 작성.<br>- 새로운 게시판 추가 시 서버 로직 및 API를 개별 구현.          | - 단일 CRUD API로 모든 게시판을 처리.<br>- 게시판 설정(`board_type`, `settings`)에 따라 동적 유효성 검증 및 데이터 처리. |
| **DB**            | - 각 게시판마다 별도 테이블 작성.<br>- 새로운 게시판마다 스키마 변경 필요.<br>- 데이터 중복 가능성 존재. | - 게시판 정보와 게시글을 각각 하나의 테이블로 통합 관리.<br>- JSON 필드(`extra_data`)를 활용해 확장성 확보.<br>- 스키마 변경 없이 새로운 게시판 지원 가능. |

### **핵심 차이점**
1. **브라우저(클라이언트)**: 새로운 설계는 UI 컴포넌트의 재사용성을 극대화하고, 동적 렌더링을 통해 추가 개발 없이 다양한 게시판을 지원합니다.
2. **웹 서버**: 단일화된 API와 유연한 설정 기반 로직으로 개발 및 유지보수 비용을 대폭 줄입니다.
3. **DB**: 통합된 테이블 구조와 JSON 필드 활용으로 스키마 변경 없이 다양한 요구사항을 수용할 수 있습니다.

아래는 이전 설계와 새로운 설계의 DB 테이블 구조를 비교하여 그림으로 표현했습니다.

---

### **이전 설계의 DB 테이블**

#### 1. 공지사항 게시판 테이블 (`notice_posts`)
| 컬럼명           | 타입        | 설명                         |
|-------------------|-------------|------------------------------|
| `id`             | INT (PK)    | 게시글 고유 ID               |
| `title`          | VARCHAR     | 제목                         |
| `content`        | TEXT        | 내용                         |
| `notice_period`  | DATE RANGE  | 공지 기간                    |


#### 2. 숙제 게시판 테이블 (`assignment_posts`)
| 컬럼명           | 타입        | 설명                         |
|-------------------|-------------|------------------------------|
| `id`             | INT (PK)    | 게시글 고유 ID               |
| `title`          | VARCHAR     | 제목                         |
| `content`        | TEXT        | 내용                         |
| `subject`        | VARCHAR     | 과목                         |


#### 특징:
- 게시판별로 독립적인 테이블이 존재.
- 새로운 게시판 추가 시 별도의 테이블을 만들어야 하며, 테이블 구조가 중복될 가능성이 큼.

---

### **새로운 설계의 DB 테이블**

#### 1. 게시판 정보 테이블 (`boards`)
| 컬럼명           | 타입        | 설명                                         |
|-------------------|-------------|----------------------------------------------|
| `board_id`       | INT (PK)    | 게시판 고유 ID                               |
| `board_type`     | VARCHAR     | 게시판 유형 (예: `notice`, `assignment`)     |
| `name`           | VARCHAR     | 게시판 이름                                  |
| `description`    | TEXT        | 게시판 설명                                  |
| `settings`       | JSON        | 게시판별 설정 정보(필드, 유효성 검증 규칙 등) |


#### 2. 게시글 테이블 (`posts`)
| 컬럼명           | 타입        | 설명                                         |
|-------------------|-------------|----------------------------------------------|
| `id`             | INT (PK)    | 게시글 고유 ID                               |
| `board_id`       | INT (FK)    | 게시판 ID (`boards.board_id` 참조)           |
| `title`          | VARCHAR     | 제목                                         |
| `content`        | TEXT        | 내용                                         |
| `extra_data`     | JSON        | 게시판별 확장 데이터(공지 기간, 과목 등)      |


#### 특징:
- 모든 게시판의 메타정보를 `boards` 테이블에 저장.
- 게시글은 `posts` 테이블에 통합 관리하며, JSON(`extra_data`)을 활용해 유연성을 확보.
- 새로운 게시판 추가 시 스키마 수정 없이 설정 데이터(`settings`)만 추가하면 됨.

---


## 이카운트 5.0 이해를 위한 요구사항 정리

위의 생각과 현재 이카운트 5.0의 용어 체계를 비교하며 접근 방법의 차이를 깨달았습니다. 기존 접근 방식은 공지사항과 숙제 게시판의 차이점을 기반으로 공통화와 모듈화를 통해 개발 비용을 줄이고 유연성을 확보하는 데 중점을 두었습니다. 반면, 이카운트 5.0의 접근 방식은 더 구조적인 용어 정의(prop, refer_type, attr_id 등)를 통해 속성을 추상화하고, 데이터의 유연성을 극대화하며, 모든 게시판을 하나의 시스템으로 통합 관리할 수 있도록 설계합니다. 이러한 차이는 개발 효율화에서 데이터 설계와 처리의 확장성까지 고려한 깊이에서 나타납니다. 즉, 5.0은 단순한 비용 절감을 넘어 데이터의 재사용성과 추적 가능성을 강화하는 방향으로 나아가고 있음을 깨달았습니다.


#### 주요 용어와 설명

| 용어          | 설명                                                                                                                                                  |
|---------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|
| **bizz**      | 이카운트 내에서 가장 중요한 업무 분장 카테고리. 예: 공지사항, 숙제.                                                                                   |
| **menu**      | 업무를 이용하기 위한 도구. 예: 공지사항 → 공지사항 입력, 공지사항 조회. 숙제 → 숙제 입력, 숙제 조회.                                                  |
| **prop**      | 항목을 나타냄. 예: 공지사항 입력의 제목, 내용, 공지기간.                                                                                              |
| **data_model**| prop들의 집합으로 관계를 형성. 예: 숙제 입력의 제목, 내용, 과목.                                                                                     |
| **definition**| 명세서에서 용어를 정의할 때 사용. 예: bizz_definition, menu_definition 등.                                                                             |
| **attribute** | 속성을 나타내며, 필수 항목 설정 등의 옵션 속성을 정의. 속성은 시점별로 일괄 처리됨. 예: 제목에 대한 필수 입력 조건.                                    |

---

#### 요구사항 정리

##### 공지사항

| 요구사항 번호 | 내용                                                                                  |
|---------------|---------------------------------------------------------------------------------------|
| 1             | 제목, 내용, 공지기간을 입력하고 조회할 수 있어야 한다.                                                                      |
| 2             | 공지기간을 반드시 입력해야 한다. 입력하지 않으면 저장 불가.                                                                 |
| 3             | 제목은 10글자까지만 입력 가능. 초과 시 저장 불가.                                                                            |

##### 숙제

| 요구사항 번호 | 내용                                                                                  |
|---------------|---------------------------------------------------------------------------------------|
| 1             | 제목, 내용, 과목을 입력하고 조회할 수 있어야 한다.                                                                          |
| 2             | 과목을 반드시 입력해야 한다. 입력하지 않으면 저장 불가.                                                                     |
| 3             | 제목을 입력하지 않으면 과목명으로 자동 입력된다.                                                                             |
| 4             | 제목은 20글자까지만 입력 가능. 초과 시 저장 불가.                                                                            |

---

### 용어와 속성 관계

| 주요 용어       | 예시                                                                                                                     |
|-----------------|--------------------------------------------------------------------------------------------------------------------------|
| **bizz**        | 공지사항, 숙제                                                                                                           |
| **menu**        | 공지사항 입력, 공지사항 조회, 숙제 입력, 숙제 조회                                                                        |
| **prop**        | 제목, 내용, 공지기간 (공지사항 입력), 제목, 내용, 과목 (숙제 입력)                                                        |
| **data_model**  | 공지사항 입력의 prop 집합, 숙제 입력의 prop 집합                                                                          |
| **attribute**   | 제목 글자수 제한 (10자/20자), 필수 입력 조건 (공지기간, 과목)                                                             |

---

### prop 정의의 추상화 및 처리 방식

**prop**는 각 속성의 주체와 의미를 기반으로 정의되며, 이를 통해 시스템 내 데이터를 추상화하고 효율적으로 관리할 수 있습니다. 이를 위해 다음과 같은 요소와 개념이 추가로 고려됩니다:

---

### **속성 간 관계와 추상화**

1. **refer_type의 역할**:
   - **refer_type**은 속성 간 유사점을 기반으로 추상화를 수행합니다.
   - 예를 들어, 공지사항과 숙제의 제목과 내용은 각각 `title`과 `content`로 동일한 `refer_type`을 공유하여 공통 처리 로직을 적용할 수 있습니다.

2. **owner 기반의 고유 속성**:
   - 특정 속성이 속한 주체(`owner`)에 따라 속성의 처리 방식이 다를 수 있습니다.
   - 예: 공지사항만의 고유 속성인 `공지기간(notice_period)`은 `owner = 공지사항`에 따라 별도로 처리.

3. **prop와 attr의 관계**:
   - **prop_id**는 속성의 주인을 나타내며, 각 속성의 정의는 **attr_id**를 통해 세분화됩니다.
   - 예: 제목(prop_id)은 글자수 제한(attr_id)과 필수 여부(attr_id)를 추가로 정의 가능.

---

### **SID를 활용한 고유 식별**

- **SID**(System Identifier)는 시스템 내 모든 속성을 고유하게 식별하기 위한 값입니다.
- **1~9, a~w**의 무작위 15자 알고리즘을 사용하여 생성되며, 데이터 충돌을 방지하고 추적 가능성을 제공합니다.

---

### **숙제와 공지사항의 속성 정의 예시**

| prop_sid       | prop_id        | data_type | refer_type     | owner       | attr_id         | 설명                                   |
|----------------|----------------|-----------|----------------|-------------|-----------------|----------------------------------------|
| sid123abc456xyz| 제목           | string    | title          | 공지사항/숙제 | 글자수_제한_10자 | 제목은 10자 이내로 제한 (공지사항).     |
| sid789def123uvw| 내용           | string    | content        | 공지사항/숙제 | 필수_입력       | 제목과 내용은 공지사항과 숙제 모두 필수 |
| sid456ghi789rst| 과목           | string    | subject        | 숙제         | 필수_입력       | 숙제의 고유 속성. 필수 입력.            |
| sid321xyz654lmn| 공지기간       | date_range| notice_period  | 공지사항     | 필수_입력       | 공지사항 고유 속성. 필수 입력.          |

---

### **속성 관리의 실제 활용**

1. **공통 속성 처리**:
   - `refer_type = title` 속성을 가진 모든 데이터에 동일한 글자수 제한을 적용.
   - `refer_type = content` 속성을 가진 데이터에 공통 텍스트 검증 로직 적용.

2. **고유 속성 처리**:
   - `refer_type = notice_period` 속성은 공지사항에만 유효한 필수 입력 조건.
   - `refer_type = subject` 속성은 숙제에서만 필수로 관리.

3. **추적과 확장성**:
   - **SID**를 통해 각 속성을 고유 식별하여, 데이터 변경 시 충돌을 방지.
   - 새로운 속성이 추가되더라도 `refer_type`과 `owner`를 기준으로 기존 처리 방식에 통합 가능.

---
내가 이해한 5.0 프레임워크의 기초 단계 로직
```javascript
function 글자수_검증(prop) {
    // attr.Value에서 refer_type과 attr_id를 기반으로 설정값 가져오기
    var max_length = attr.getValue({ owner: prop.owner, prop_id: prop.refer_type }, "max_length");

    // 글자수 초과 여부 검증
    if (prop.value.length > max_length) {
        출력("글자수가 허용된 " + max_length + "자를 초과했습니다.");
        반환 false; // 검증 실패
    }
}
```
기존의 ERD를 작성하고 서버 로직을 구현하는 방식은, 각 업무별로 고유한 테이블과 로직을 설계해야 했기 때문에 초기 개발 단계에서 구조가 명확하다는 장점이 있었습니다. 그러나 업무가 추가되거나 변경될 때마다 테이블 구조와 서버 로직을 수정해야 하므로, 유지보수 비용이 증가하고 비효율이 발생했습니다. 반면, 이번에 적용한 동적 설정 기반의 추상화 방식은 속성을 데이터 중심으로 관리하며, 검증 로직을 코드가 아닌 설정값으로 처리하도록 설계되어 확장성과 유연성이 크게 향상되었습니다. 이 방식은 ERD의 복잡성을 줄이고, 새로운 요구사항이 추가될 때도 서버 로직을 변경하지 않아도 되므로, 개발 비용과 유지보수 부담을 크게 낮추는 효과를 확인할 수 있었습니다.

ERD를 작성하는 방식과 검증 로직을 코드로 작성하는 방법은 서로 다른 장단점을 가지고 있어 고민이 필요합니다. 예를 들어, "공지사항의 제목은 10자를 초과할 수 없다"는 요구사항을 처리할 때, ERD에서는 title 컬럼에 VARCHAR(10)으로 제약 조건을 설정해 데이터베이스 수준에서 문제를 해결할 수 있습니다. 하지만 코드 기반 검증은 더 유연하게 로직을 처리할 수 있고, 같은 검증을 숙제(20자 제한)에도 쉽게 재사용할 수 있습니다. 이런 상황에서 저는 "데이터 제약을 ERD 수준에서 해결할 것인가, 아니면 검증 로직으로 처리할 것인가?"라는 질문에 직면했습니다. 

---



## 2. 동기에게 도움 받은 내용 (필수)

현철님 : 5.0 프레임워크를 이해하기 위해 도움이되는 자료들을 공유해주셔서 이해하기 한결 쉽게해주셨습니다. 감사합니다!

건호님 : 밥이나 쉴 때 자리에 와서 심심하지 않게 리프레시 할 수 있는 환경을 만들어주셔서 감사합니다.

도형님 : 개념이 이해가지 않을 때 그림을 그려서 직접 설명해주셔서 5.0이 바라는 구조가 어떤 것인지에 대해 토론을 나누고 생각의 차이를 알 수 있게 해주셔서 감사했습니다. 

연아님 : 제가 가장 좋아하는 캐릭터의 텀블러를 선물해주셔서 감사합니다!!!


---

## 3. 개발 기술적으로 성장한 점 (선택)

### 1. 교육 과정 상 배운 내용이 아닌 개인적 호기심을 해결하기 위해 추가 공부한 내용
개인적으로는 데이터 검증을 더 효율적으로 처리할 수 있는 추상화 기법에 대해 관심이 생겨 추가적으로 공부를 진행했습니다. 특히, refer_type과 attr_id를 활용한 설정 기반 검증 방식은 각 속성을 동적으로 관리할 수 있어 확장성과 유지보수성을 크게 높일 수 있다는 점에서 흥미로웠습니다. 이를 위해 기존의 하드코딩 방식과 설정 기반 방식의 차이를 비교하며 학습했습니다. 초기에는 테이블 구조를 단순화하고 JSON 형태의 메타데이터를 서버에서 받아와 조건을 처리하자는 방식을 생각했지만, 5.0의 접근 방식은 이를 초월해 테이블과 로직을 통합적으로 설계하여 효율성과 확장성을 극대화하고 있었습니다.


---

## 4. 소프트 스킬면에서 성장한 점  (선택)  
오늘 하상수 부서장님께서 진행하신 교육에서, 배움의 목적과 의도를 분명히 이해하는 것이 얼마나 중요한지 깨달았습니다. 강의를 들으며 단순히 개념 하나하나에 매몰되지 않고, 전체적인 흐름과 방향성을 파악하려고 노력했습니다. 특히, "어떻게 해결할 수 있을까?"라는 질문을 스스로 던지며 배움에 능동적으로 참여했던 경험이 의미가 있었습니다. 5.0 프레임워크에 대한 내용을 완벽히 이해하지 못했더라도, 오늘 배움의 핵심적인 방향성과 의도를 이해하는 데 초점을 맞추며 더 많은 것을 얻었다고 느낍니다. 이를 통해 앞으로의 배움에서도 목적과 목표를 명확히 하고, 나만의 해결책과 방향성을 고민하며 적극적으로 임해야겠다는 다짐을 하게 되었습니다.


